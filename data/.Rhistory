)) |>
mutate(`Movement Mode Ref` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu", "Cis jacquemartii", "Bolitophagus reticulatus", "Ciidae", "Coleoptera",
"Curculionidae", "Lucanidae", "Passalidae", "Cerambycidae", "Scarabaeidae", "Elater ferrugineus", "Protaetia marmorata",
"Rosalia alpina", "Anoplophora glabripennis", "Bolitotherus cornutus", "Cerambyx welensii", "Dendroctonus frontalis",
"Monochamus alternatus", "Semanotus japonicus", "Thanasimus dubius", "Rhizophagus grandis", "Lucanus cervus",
"Ips typographus", "Spasalus crenatus", "Oplocephala haemorrhoidalis", "Medetera apicalis", "Scolytidae",
"Diaperis boleti", "Osmoderma eremita", "Hammerschmidtia ferruginea", "Osmoderma barnabita", "Monochamus carolinensis",
"Monochamus galloprovincialis", "Syrphidae", "Dolichopodidae","Gallirallus australis", "Tribonyx mortierii") ~ paste("Inferred from Species:", gbif.binomial),
TRUE ~ `Movement Mode Ref`
))
View(db7)
x <- db7 |> filter(Movement.mode == "Running")
unique(db7$gbif.binomial)
unique(x$gbif.binomial)
unique(x$gbif.binomial)
x <- db7 |> filter(Movement.mode == "Flying")
unique(x$gbif.binomial)
x <- db7 |> filter(Movement.mode == "Flying")
unique(x$gbif.binomial)
# Adding movement type based on class - google/wikipedia search
db5 <- db4 |>
mutate(`Movement.mode` = case_when(
class %in% c("Mammalia", "Squamata") ~ "Running",
class == "Aves" ~ "Flying",
class %in% c("Amphibia", "Testudines") ~ "Mixed",
class == c("Elasmobranchii") ~ "Swimming",
TRUE ~ `Movement.mode`
)) |>
mutate(
`Movement Mode Ref` = ifelse(!is.na(`Movement.mode`), paste("Inferred from Class: ", class), `Movement Mode Ref`)
)
# Infer movement modes from family
#To find out family names to find movement mode for
namovementdata <- db5 %>%
filter(is.na(Movement.mode) | Movement.Mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(namovementdata$family)
db6 <- db5 |>
mutate(`Movement.mode` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae") ~ "Swimming",
family %in% c("Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae","Scolytidae") ~ "Mixed",
family %in% c("Syrphidae","Dolichopodidae") ~ "Flying",
family %in% c("Talpidae") ~ "Digging",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae",
"Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae",
"Scolytidae","Syrphidae","Dolichopodidae") ~ paste("Inferred from Family:", family),
TRUE ~ `Movement Mode Ref`
))
# Adding movement type based on class - google/wikipedia search
db5 <- db4 |>
mutate(`Movement.mode` = case_when(
class %in% c("Mammalia", "Squamata") ~ "Running",
class == "Aves" ~ "Flying",
class %in% c("Amphibia", "Testudines") ~ "Mixed",
class == c("Elasmobranchii") ~ "Swimming",
TRUE ~ `Movement.mode`
)) |>
mutate(
`Movement Mode Ref` = ifelse(!is.na(`Movement.mode`), paste("Inferred from Class: ", class), `Movement Mode Ref`)
)
# Infer movement modes from family
#To find out family names to find movement mode for
namovementdata <- db5 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(namovementdata$family)
db6 <- db5 |>
mutate(`Movement.mode` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae") ~ "Swimming",
family %in% c("Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae","Scolytidae") ~ "Mixed",
family %in% c("Syrphidae","Dolichopodidae") ~ "Flying",
family %in% c("Talpidae") ~ "Digging",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae",
"Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae",
"Scolytidae","Syrphidae","Dolichopodidae") ~ paste("Inferred from Family:", family),
TRUE ~ `Movement Mode Ref`
))
na_movement_data1 <- db6 %>%
filter(is.na(Movement.Mode) | Movement.Mode == "") %>%
mutate(`Movement Mode Ref` = NA)
na_movement_data1 <- db6 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(na_movement_data1$gbif.binomial)
na_movement_data1 <- db6 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(na_movement_data1$gbif.binomial)
View(db6)
# Infer movement modes from family
#To find out family names to find movement mode for
namovementdata <- db5 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(namovementdata$family)
db6 <- db5 |>
mutate(`Movement.mode` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae") ~ "Swimming",
family %in% c("Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae","Scolytidae") ~ "Mixed",
family %in% c("Syrphidae","Dolichopodidae") ~ "Flying",
family %in% c("Talpidae") ~ "Digging",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
family %in% c("Cyprinidae","Cottidae","Anostomidae","Poeciliidae","Acipenseridae","Esocidae","Lotidae","Polyodontidae","Centrarchidae",
"Percidae","Percichthyidae","Prochilodontidae","Rivulidae","Fundulidae","Moronidae","Ictaluridae","Anguillidae","Pimelodidae",
"Salmonidae","Bryconidae","Alestidae","Cichlidae","Bryconidae", "Catostomidae","Nemacheilidae","Doradidae","Serrasalmidae","Lepisosteidae",
"Curculionidae", "Lucanidae", "Passalidae","Cerambycidae","Scarabaeidae","Elateridae","Cleridae","Monotomidae","Ciidae", "Tenebrionidae",
"Scolytidae","Syrphidae","Dolichopodidae") ~ paste("Inferred from Family:", family),
TRUE ~ `Movement Mode Ref`
))
na_movement_data1 <- db6 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(na_movement_data1$gbif.binomial)
db7 <- db6 |>
mutate(`Movement.mode` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu",
"Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator") ~ "Swimming",
gbif.binomial %in% c("Gallirallus australis", "Tribonyx mortierii", "Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus") ~ "Running",
gbif.binomial %in% c("Cis jacquemartii", "Bolitophagus reticulatus", "Ciidae", "Coleoptera", "Curculionidae", "Lucanidae", "Passalidae",
"Cerambycidae", "Scarabaeidae", "Elater ferrugineus", "Protaetia marmorata", "Rosalia alpina", "Anoplophora glabripennis",
"Bolitotherus cornutus", "Cerambyx welensii", "Dendroctonus frontalis", "Monochamus alternatus", "Semanotus japonicus",
"Thanasimus dubius", "Rhizophagus grandis", "Lucanus cervus", "Ips typographus", "Spasalus crenatus", "Oplocephala haemorrhoidalis",
"Medetera apicalis", "Scolytidae", "Diaperis boleti", "Osmoderma eremita", "Hammerschmidtia ferruginea", "Osmoderma barnabita",
"Monochamus carolinensis", "Monochamus galloprovincialis", "Agrilus planipennis","Tetrastichus","Coptotermes formosanus","Hymenoptera", "Coleoptera") ~ "Mixed",
gbif.binomial %in% c("Syrphidae", "Dolichopodidae") ~ "Flying",
gbif.binomial %in% c("Thomomys bottae"," Pteromys volans", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata", "Sciurus carolinensis", "Sciurus niger",
"Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus", "Rupicapra rupicapra", "Rupicapra pyrenaica") ~ "Other",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu", "Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator", "Gallirallus australis", "Tribonyx mortierii",
"Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus", "Cis jacquemartii",
"Bolitophagus reticulatus", "Ciidae", "Coleoptera", "Curculionidae", "Lucanidae", "Passalidae", "Cerambycidae",
"Scarabaeidae", "Elater ferrugineus", "Protaetia marmorata", "Rosalia alpina", "Anoplophora glabripennis",
"Bolitotherus cornutus", "Cerambyx welensii", "Dendroctonus frontalis", "Monochamus alternatus", "Semanotus japonicus",
"Thanasimus dubius", "Rhizophagus grandis", "Lucanus cervus", "Ips typographus", "Spasalus crenatus", "Oplocephala haemorrhoidalis",
"Medetera apicalis", "Scolytidae", "Diaperis boleti", "Osmoderma eremita", "Hammerschmidtia ferruginea", "Osmoderma barnabita",
"Monochamus carolinensis", "Monochamus galloprovincialis", "Agrilus planipennis","Tetrastichus","Coptotermes formosanus","Syrphidae", "Dolichopodidae",
"Thomomys bottae"," Pteromys volans", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata", "Sciurus carolinensis",
"Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus", "Rupicapra rupicapra", "Rupicapra pyrenaica","Hymenoptera", "Coleoptera") ~ paste("Inferred from Species:", gbif.binomial),
TRUE ~ `Movement Mode Ref`
))
x <- db7 |> filter(Movement.mode == "Flying")
unique(x$gbif.binomial)
x <- db7 |> filter(Movement.mode == "Running")
unique(x$gbif.binomial)
db7 <- db6 |>
mutate(`Movement.mode` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu",
"Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator") ~ "Swimming",
gbif.binomial %in% c("Gallirallus australis", "Tribonyx mortierii", "Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus",
"Speotyto cunicularia", "Passerculus sandwichensis", "Zonotrichia leucophrys") ~ "Running",
gbif.binomial %in% c("Pteromys volans", "Dryocopus pileatus", "Strix aluco", "Strix nebulosa", "Bubo virginianus") ~ "Flying",
gbif.binomial %in% c("Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ "Other",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu","Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator", "Gallirallus australis", "Tribonyx mortierii",
"Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus", "Speotyto cunicularia",
"Passerculus sandwichensis", "Zonotrichia leucophrys","Pteromys volans", "Dryocopus pileatus", "Strix aluco", "Strix nebulosa",
"Bubo virginianus", "Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ paste("Inferred from Species:", gbif.binomial),
TRUE ~ `Movement Mode Ref`
))
x <- db7 |> filter(Movement.mode == "Running")
unique(x$gbif.binomial)
na_movement_data1 <- db6 %>%
filter(is.na(Movement.mode) | Movement.mode == "") %>%
mutate(`Movement Mode Ref` = NA)
unique(na_movement_data1$gbif.binomial)
db7 <- db6 |>
mutate(`Movement.mode` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu",
"Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator") ~ "Swimming",
gbif.binomial %in% c("Gallirallus australis", "Tribonyx mortierii", "Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus",
"Speotyto cunicularia", "Passerculus sandwichensis", "Zonotrichia leucophrys") ~ "Running",
gbif.binomial %in% c("Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ "Other",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu","Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator", "Gallirallus australis", "Tribonyx mortierii",
"Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus", "Speotyto cunicularia",
"Passerculus sandwichensis", "Zonotrichia leucophrys", "Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ paste("Inferred from Species:", gbif.binomial),
TRUE ~ `Movement Mode Ref`
))
x <- db7 |> filter(Movement.mode == "Running")
unique(x$gbif.binomial)
db7 <- db6 |>
mutate(`Movement.mode` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu",
"Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator") ~ "Swimming",
gbif.binomial %in% c("Gallirallus australis", "Tribonyx mortierii", "Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus",
"Speotyto cunicularia", "Passerculus sandwichensis", "Zonotrichia leucophrys") ~ "Running",
gbif.binomial %in% c("Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus", "Pteromys volans",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ "Other",
TRUE ~ `Movement.mode`
)) |>
mutate(`Movement Mode Ref` = case_when(
gbif.binomial %in% c("Abramis brama", "Acipenser fulvescens", "Ambloplites rupestris", "Anablepsoides hartii", "Anguilla australis australis",
"Anguilla dieffenbachii", "Anguilla japonica", "Anguilla rostrata", "Barbus barbus", "Barbus haasi", "Brycon orbignyanus",
"Catostomus clarkii", "Catostomus insignis", "Catostomus occidentalis", "Chrosomus eos", "Clinostomus funduloides",
"Colossoma macropomum", "Cottus bairdii", "Cottus cognatus", "Cottus gobio", "Cottus pollux", "Cottus rhenanus",
"Ctenopharyngodon idella", "Cyprinella caerulea", "Cyprinus carpio", "Esox lucius", "Etheostoma flabellare",
"Etheostoma fonticola", "Etheostoma nigrum", "Etheostoma podostemone", "Fundulus notatus", "Fundulus olivaceus",
"Gobio gobio", "Hemisorubim platyrhynchos", "Hydrocynus vittatus", "Hypophthalmichthys nobilis", "Lavinia exilicauda",
"Lefua echigonia", "Lepidomeda aliciae", "Lepisosteus osseus", "Lepomis auritus", "Lepomis cyanellus", "Lepomis megalotis",
"Leporinus elongatus", "Leporinus friderici", "Leporinus obtusidens", "Leuciscus idus", "Lota lota", "Maccullochella macquariensis",
"Macquaria ambigua", "Micropterus dolomieu", "Micropterus salmoides", "Morone saxatilis", "Mylopharodon conocephalus",
"Nocomis leptocephalus", "Notropis lutipinnis", "Oncorhynchus clarkii", "Oncorhynchus kisutch", "Oncorhynchus masou masou",
"Oncorhynchus mykiss", "Oncorhynchus tshawytscha", "Oreochromis andersonii", "Oxydoras kneri", "Piaractus mesopotamicus",
"Pimelodus albicans", "Pimelodus maculatus", "Pinirampus pirinampu", "Poecilia gillii", "Polyodon spathula",
"Prochilodus lineatus", "Prosopium williamsoni", "Pseudoplatystoma corruscans", "Pterodoras granulosus",
"Ptychocheilus grandis", "Ptychocheilus lucius", "Ptychocheilus oregonensis", "Pylodictis olivaris", "Rhinichthys atratulus",
"Rhinichthys cataractae", "Rutilus rutilus", "Salminus brasiliensis", "Salmo salar", "Salmo trutta", "Salvelinus confluentus",
"Salvelinus fontinalis", "Salvelinus leucomaenis leucomaenis", "Salvelinus malma", "Sander", "Sander lucioperca",
"Sander vitreus", "Sargochromis giardi", "Scaphirhynchus albus", "Scaphirhynchus platorynchus", "Schizodon borellii",
"Semotilus atromaculatus", "Serranochromis altus", "Sorubim lima", "Squalius torgalensis", "Thymallus thymallus",
"Tinca tinca", "Xyrauchen texanus", "Zungaro jahu","Castor canadensis", "Castor fiber", "Lontra canadensis", "Mustela vison",
"Podiceps cristatus", "Cygnus olor", "Phalacrocorax pelagicus","Cygnus buccinator", "Gallirallus australis", "Tribonyx mortierii",
"Dromaius novaehollandiae", "Rhea americana","Rhea pennata","Tympanuchus cupido", "Tympanuchus pallidicinctus", "Speotyto cunicularia",
"Passerculus sandwichensis", "Zonotrichia leucophrys", "Thomomys bottae", "Hylobates lar", "Trichosurus vulpecula", "Phascolarctos cinereus", "Alouatta palliata",
"Sciurus carolinensis", "Sciurus niger", "Macaca sylvanus", "Microcebus murinus", "Tamiasciurus hudsonicus", "Pteromys volans",
"Rupicapra rupicapra", "Rupicapra pyrenaica") ~ paste("Inferred from Species:", gbif.binomial),
TRUE ~ `Movement Mode Ref`
))
x <- db7 |> filter(Movement.mode == "Running")
unique(x$gbif.binomial)
x <- db7 |> filter(Movement.mode == "Flying")
unique(x$gbif.binomial)
View(db7)
#### Final standardisation####
# Sampling method standardising
# Putting each sampling method into our 5 categories (Tracking, Mark-recapture, Direct observation, Mixed and Unknown)
dbtrans <- db7 |>
group_by(class == "Aves") %>% mutate(Sampling.method.simplified = case_when(is.na(Sampling.method.simplified) &&
Sampling.method.reported %in% c("Radio-tracking", "Radio tracking", "Satellite tracking") ~ "Tracking",
is.na(Sampling.method.simplified) &&
Sampling.method.reported %in% c("Mark-Recapture", "Banding shot", "Mark recapture", "Banding recapture", "Ringing", "Colour marking","Wing tagging","Trapping") ~ "Mark-recapture",
is.na(Sampling.method.simplified) &&
Sampling.method.reported %in% c("Nest box observation", "Observation") ~ "Direct observation",
is.na(Sampling.method.simplified) &&
Sampling.method.reported %in% c("Radio tracking/banding") ~ "Mixed",
!is.na(Sampling.method.simplified) ~ Sampling.method.simplified,
TRUE ~ "Unknown")) %>% ungroup()
dbtrans1 <- dbtrans |>
group_by(is.na(class)) %>% mutate(Sampling.method.simplified = case_when(Sampling.method.reported %in% c("Radio-tracking") ~ "Tracking",
Sampling.method.reported %in% c("Mark-Recapture") ~ "Mark-recapture",
TRUE ~  "Unknown")) %>% ungroup()
dbtrans2 <- dbtrans1 |>
select(-`is.na(class)`,-`class == \"Aves\"`)
# Selecting the highest value for one species
# For McCaslin et al. 2020
dbcombmc <- dbtrans2 %>%
filter(Reference == "McCaslin et al. 2020") %>%
group_by(gbif.binomial) %>%
summarise(
Value_max = max(Value, na.rm = TRUE),
Source = "McCaslin et al. 2020",
across(everything(), ~ first(.)),
.groups = 'drop'
) %>%
distinct()
# For Swift et al. 2021
dbcombs <- dbtrans2 %>%
filter(Reference == "Swift et al. 2021") %>%
group_by(gbif.binomial) %>%
summarise(
Value_max = max(Value, na.rm = TRUE),
Source = "Swift et al. 2021",
across(everything(), ~ first(.)),
.groups = 'drop'
) %>%
distinct()
# Combine the results
combfinal <- bind_rows(dbcombs, dbcombmc)
# Replace the original data for McCaslin et al. 2020 and Swift et al. 2021 with just the maximum value
dbtrans3 <- dbtrans2 %>%
filter(!Reference %in% c("McCaslin et al. 2020", "Swift et al. 2021")) %>%
bind_rows(
dbtrans2 %>%
filter(Reference == "McCaslin et al. 2020") %>%
group_by(gbif.binomial) %>%
summarise(
Value = max(Value, na.rm = TRUE),
Source = "McCaslin et al. 2020",
across(everything(), ~ first(.)),
.groups = 'drop'
) %>%
distinct(),
dbtrans2 %>%
filter(Reference == "Swift et al. 2021") %>%
group_by(gbif.binomial) %>%
summarise(
Value = max(Value, na.rm = TRUE),
Source = "Swift et al. 2021",
across(everything(), ~ first(.)),
.groups = 'drop'
) %>%
distinct()
) %>%
distinct()
#### Filtering data to just include flying birds, running mammals and swimming fish ####
db_final <- db3trans %>%
filter((Movement.mode == "Flying" & !class %in% c("Mammalia")) |
(Movement.mode == "Running" & !class %in% c("Aves")) |
(Movement.mode == "Swimming" & !(class %in% c("Aves") | class %in% c("Mammalia"))))
#### Filtering data to just include flying birds, running mammals and swimming fish ####
db_final <- dbtrans3 %>%
filter((Movement.mode == "Flying" & !class %in% c("Mammalia")) |
(Movement.mode == "Running" & !class %in% c("Aves")) |
(Movement.mode == "Swimming" & !(class %in% c("Aves") | class %in% c("Mammalia"))))
View(db_final)
#### Filtering data to just include flying birds, running mammals and swimming fish ####
db_final <- dbtrans3  %>%
filter(!is.na(Body.mass)) %>%
filter((Movement.mode == "Flying" & !Class %in% c("Mammalia")) |
(Movement.mode == "Running" & !Class %in% c("Aves")) |
(Movement.mode == "Swimming" & !(Class %in% c("Aves") | Class %in% c("Mammalia"))))
#### Filtering data to just include flying birds, running mammals and swimming fish ####
db_final <- dbtrans3  %>%
filter(!is.na(Body.mass)) %>%
filter((Movement.mode == "Flying" & !class %in% c("Mammalia")) |
(Movement.mode == "Running" & !class %in% c("Aves")) |
(Movement.mode == "Swimming" & !(class %in% c("Aves") | class %in% c("Mammalia"))))
View(db_final)
rm(list=ls())
